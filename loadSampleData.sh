#!/bin/bash
# load sample data
  # server must be running
  # if intalled, can also run ogr2ogr to load bulk data: http://www.gdal.org/drv_geojson.html

  #MUST run reInit before running this
  #This script requires 'httpie' (brew install httpie)


physicalInserts=(
  '{"geo":[-122.426536560196979,37.790584627350285]}'
  '{"geo":[-122.461901654655492,37.771520631118747]}'
  '{"geo":[-122.423773662192403,37.784506251740233]}'
  '{"geo":[-122.395315812745324,37.732840059054745]}'
  '{"geo":[-122.440074760419378,37.738089565263429]}'
  '{"geo":[-122.440903629820752,37.741405042868919]}'
  '{"geo":[-122.418800445784186,37.787269149744802]}'
  '{"geo":[-122.485662577494807,37.828988909613827]}'
  '{"geo":[-122.495609010311270,37.745549389875777]}'
  '{"geo":[-122.471295507871034,37.769586602515545]}'
  '{"geo":[-122.428194298999728,37.763231937105033]}'
  '{"geo":[-122.449468613634920,37.783124802737944]}'
  '{"geo":[-122.438417021616644,37.778151586329713]}'
  '{"geo":[-122.447258295231265,37.772349500520114]}'
  '{"geo":[-122.446705715630358,37.774836108724230]}'
  '{"geo":[-122.443390238024861,37.776217557726518]}'
  '{"geo":[-122.446429425829891,37.778980455731087]}'
  '{"geo":[-122.437864442015723,37.758811300297715]}'
  '{"geo":[-122.473782116075157,37.791413496751659]}'
  '{"geo":[-122.477926463082014,37.789479468148457]}'
  '{"geo":[-122.473229536474236,37.788098019146176]}'
  '{"geo":[-122.409959172169550,37.801912509169028]}'
  '{"geo":[-122.438969601217551,37.804399117373144]}'
  '{"geo":[-122.437588152215270,37.790860917150745]}'
  '{"geo":[-122.462454234256413,37.696922384995318]}'
  '{"geo":[-122.407748853765895,37.705763658609946]}'
  '{"geo":[-122.394763233144417,37.762126777903205]}'
  '{"geo":[-122.396697261747605,37.759916459499543]}'
  '{"geo":[-122.396697261747605,37.761297908501831]}'
  '{"geo":[-122.395592102545777,37.761021618701371]}'
  '{"geo":[-122.446982005430812,37.773454659721942]}'
  '{"geo":[-122.448639744233546,37.774283529123316]}'
  '{"geo":[-122.427089139797900,37.789755757948917]}'
  '{"geo":[-122.469085189467378,37.768481443313718]}'
  '{"geo":[-122.423221082591496,37.784506251740233]}'
  '{"geo":[-122.472953246673782,37.788650598747090]}'
  '{"geo":[-122.484004838692073,37.774559818923700]}'
)

#Create and sign-in user assing JWT to "token" variable

user=`http POST http://localhost:8000/users/signup username="Test" password=Test`
echo "${user}"
token=`echo "${user}" | cut -d ":" -f 2 | cut -d "\"" -f 2 |cut -d "\"" -f 1`

count=1
for request in ${physicalInserts[*]}; do
  echo insert data: "${request}"
  curl -H "Content-Type: application/json" -X POST -d "${request}" http://localhost:8000/physical
  http -f POST http://localhost:8000/photo x-access-token:"${token}" photo@samplePhoto/1.jpg physical:="${count}"
  http POST http://localhost:8000/comments x-access-token:"${token}" physical:="${count}" text="HELLO THIS IS A COMMENT"
  ((count++))
done




